---------------------------------------------------------------------------

by carsonbot at 2023-04-08T12:12:58Z

Hey!

I see that this is your first PR. That is great! Welcome!

Symfony has a [contribution guide](https://symfony.com/doc/current/contributing/index.html) which I suggest you to read.

In short:
- Always add tests
- Keep backward compatibility (see https://symfony.com/bc).
- Bug fixes must be submitted against the lowest maintained branch where they apply (see https://symfony.com/releases)
- Features and deprecations must be submitted against the 6.3 branch.

Review the GitHub status checks of your pull request and try to solve the reported issues. If some tests are failing, try to see if they are failing because of this change.

When two Symfony core team members approve this change, it will be merged and you will become an official Symfony contributor!
If this PR is merged in a lower version branch, it will be merged up to all maintained branches within a few days.

I am going to sit back now and wait for the reviews.

Cheers!

Carsonbot

---------------------------------------------------------------------------

by Koc at 2023-04-11T10:16:04Z

Wow, I like idea of reusing infrastructure provided by `RequestPayloadValueResolver` :clap:

Can you add support of the variadic arguments? + squash your commits for easier review until my PR hasn't merged.

---------------------------------------------------------------------------

by renedelima at 2023-04-12T20:10:19Z

> Can you add support of the variadic arguments? + squash your commits for easier review until my PR hasn't merged.

I Just added support to variadic arguments and the commits were squashed. @Koc

> A missing file is like a missing form field in the payload. The code should be 422 too.

Status code changed to 422. @GromNaN

---------------------------------------------------------------------------

by Koc at 2023-04-14T12:26:52Z

@renedelima you can rebase now :tada:

---------------------------------------------------------------------------

by renedelima at 2023-04-18T17:20:12Z

> @renedelima you can rebase now ðŸŽ‰

Rebased. For now, it seems there are no more suggestions to consider. Let's see what people have to say.

---------------------------------------------------------------------------

by Koc at 2023-04-23T20:35:49Z

See #50125, it can affect current implementation ðŸ˜ž

---------------------------------------------------------------------------

by renedelima at 2023-04-23T23:55:08Z

> It could also be great to have unit tests in `RequestPayloadValueResolverTest`.

To avoid mixing targeted classes in the same place, unit tests were moved to a dedicated `UploadedFileValueResolverTest` file. The approach was also reviewed and now it deals directly with the resolver instead of dummy controllers.

---------------------------------------------------------------------------

by renedelima at 2023-04-23T23:57:59Z

> See #50125, it can affect current implementation ðŸ˜ž

Sure. But those changes will make the component even better in the end. :wink:

---------------------------------------------------------------------------

by renedelima at 2023-05-13T15:04:57Z

Just rebased and all test checks are green. This PR is **ready for review**. Let me know if there is something else to do.

@dunglas

---------------------------------------------------------------------------

by renedelima at 2023-10-22T16:28:10Z

Hey! I just rebased. What next?
@dunglas

---------------------------------------------------------------------------

by renedelima at 2023-12-16T00:06:31Z

Rebased onto **symfony/7.1** branch. I think there is nothing else to do. Everything seems fine despite some broken checks on components not related to this pull request. I will rebase this branch weekly to keep track.

---------------------------------------------------------------------------

by renedelima at 2024-01-07T18:17:54Z

Rebased onto **symfony/7.1** branch again. Everything seems fine despite some broken checks on components not related to this pull request.

---------------------------------------------------------------------------

by renedelima at 2024-02-05T01:56:59Z

Rebased onto symfony/7.1 branch again. Everything seems fine.

---------------------------------------------------------------------------

by renedelima at 2024-02-11T23:49:03Z

Rebased onto symfony/7.1 branch.

---------------------------------------------------------------------------

by renedelima at 2024-02-25T17:31:05Z

Rebased onto symfony/7.1 branch. **All checks have passed.**

---------------------------------------------------------------------------

by renedelima at 2024-03-19T21:53:03Z

> LGTM. In case this triggers new ideas, I wondered why the attribute is needed when `UploadedFile` might be enough to do the mapping? Constraints is the answer I suppose.

Exactly, this way we are able to use constraints when mapping uploaded files.

> I also wondered if we shouldn't add the `All` constraint automatically when the type is `array`. WDYT?

Good suggestion, the `All` constraint is now automatically added when the argument type is `array`.

---------------------------------------------------------------------------

by renedelima at 2024-03-21T21:03:43Z

> LGTM. In case this triggers new ideas, I wondered why the attribute is needed when `UploadedFile` might be enough to do the mapping? Constraints is the answer I suppose. I also wondered if we shouldn't add the `All` constraint automatically when the type is `array`. WDYT?

Changes applied, branch rebased and all checks have passed.

---------------------------------------------------------------------------

by nicolas-grekas at 2024-04-12T12:34:47Z

Anyone @symfony/mergers?
(small rebase needed BTW)

---------------------------------------------------------------------------

by OskarStark at 2024-04-12T13:25:17Z

It looks like your commiter email is not associated with your GitHub account, maybe you want to change that?
