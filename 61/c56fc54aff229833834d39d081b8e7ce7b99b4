---------------------------------------------------------------------------

by igorw at 2013-04-12T15:37:09Z

This PR is massive. It should be broken down into smaller commits that can be reviewed more easily. If possible perhaps even into separate smaller PRs that can be applied atomically without breaking stuff.

---------------------------------------------------------------------------

by jfsimon at 2013-04-12T15:56:02Z

@igorw I just unsquashed my commits for you.

---------------------------------------------------------------------------

by igorw at 2013-04-12T16:04:35Z

I'm not sure if introducing the `Document` is worth the amount of code it introduces. If #6339 can produce the same result with only 342 new LOC, maybe we should aim for something more similar to it.

---------------------------------------------------------------------------

by jfsimon at 2013-04-12T16:12:19Z

@igorw do you think the markdown formatter is overkill?
(I guess the generated documents will change in the future and become more complex).

---------------------------------------------------------------------------

by igorw at 2013-04-12T17:43:48Z

Possibly. I guess re-implementing pandoc inside of symfony seems like a bit much.

---------------------------------------------------------------------------

by jfsimon at 2013-04-13T15:57:20Z

@igorw I think your right, I'll simplify the markdown descriptor.

---------------------------------------------------------------------------

by jfsimon at 2013-04-14T07:27:17Z

@igorw markdown descriptors simplified, really better, thanks.

---------------------------------------------------------------------------

by jfsimon at 2013-04-14T07:30:04Z

@fabpot tell me when you'll be okay to merge this, I'll rebase & squash commits.

---------------------------------------------------------------------------

by stof at 2013-04-14T12:21:50Z

I don't like the hard coupling of descriptors, where each descriptor creates new instances of other descriptors. I leads to several issues:

- this spawned descriptors don't respect the options set in the DescriptorSelector
- replacing one of the descriptors in the DescriptorSelector would not be taken into account for nested descriptions.

You should retrieve the needed descriptor from the selector IMO

---------------------------------------------------------------------------

by jfsimon at 2013-04-14T19:41:18Z

@stof @igorw could you please take a look at the last commit, I'm not sure to do it the best way.
Actually, I begin to doubt of the entire feature design.

---------------------------------------------------------------------------

by fabpot at 2013-04-20T13:19:25Z

#5740 should indeed use this framework. @jfsimon Can you update this PR accordingly?

---------------------------------------------------------------------------

by jfsimon at 2013-04-20T13:54:07Z

@fabpot absolutely. Should I do the same with `RouterDebugCommand`? Shouldn't this be done in separate PRs?

---------------------------------------------------------------------------

by fabpot at 2013-04-20T14:05:51Z

Let's do that in the same PR (and indeed the router debug command should also be updated).

---------------------------------------------------------------------------

by fabpot at 2013-04-23T08:52:36Z

Can you also removed the `*~` files that were committed by mistake?
