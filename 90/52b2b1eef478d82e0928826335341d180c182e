---------------------------------------------------------------------------

by derrabus at 2020-12-09T12:32:10Z

Can we add a test for this please?

---------------------------------------------------------------------------

by craue at 2020-12-09T18:03:27Z

@derrabus, how?

---------------------------------------------------------------------------

by jderusse at 2020-12-09T21:44:28Z

> @derrabus, how?

```php
<?php

namespace Symfony\Bridge\Doctrine\Tests\DependencyInjection\CompilerPass;

use PHPUnit\Framework\TestCase;
use Symfony\Bridge\Doctrine\DependencyInjection\CompilerPass\RegisterUidTypePass;
use Symfony\Bridge\Doctrine\Types\UlidType;
use Symfony\Bridge\Doctrine\Types\UuidType;
use Symfony\Component\DependencyInjection\ContainerBuilder;

class RegisterUidTypePassTest extends TestCase
{
    public function testRegistered()
    {
        $container = new ContainerBuilder();
        $container->setParameter('doctrine.dbal.connection_factory.types', ['foo' => 'bar']);
        (new RegisterUidTypePass())->process($container);

        $expected = [
            'foo' => 'bar',
            'uuid' => ['class' => UuidType::class],
            'ulid' => ['class' => UlidType::class],
        ];
        $this->assertSame($expected, $container->getParameter('doctrine.dbal.connection_factory.types'));
    }

    public function testRegisteredDontFail()
    {
        $container = new ContainerBuilder();
        (new RegisterUidTypePass())->process($container);

        $this->expectNotToPerformAssertions();
    }
}
```

---------------------------------------------------------------------------

by craue at 2020-12-09T21:51:52Z

@jderusse, I see, thanks. Do you want to add it directly?

---------------------------------------------------------------------------

by jderusse at 2020-12-09T22:11:57Z

> @jderusse, I see, thanks. Do you want to add it directly?

Yes please, add this class in you PR. This should cover the Pass

---------------------------------------------------------------------------

by craue at 2020-12-09T22:23:54Z

@jderusse, what I wanted to know is either if you want to add this commit on your own or if you want me to add it. 😏 I just did now.
