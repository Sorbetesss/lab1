<h2>Routing information</h2>

<div class="metrics">
    <div class="metric">
        <span class="value">{{ request.route ?: '(none)' }}</span>
        <span class="label">Matched route</span>
    </div>

    {% if request.route %}
        <div class="metric">
            <span class="value">{{ traces|length }}</span>
            <span class="label">Tested routes before match</span>
        </div>
    {% endif %}
</div>

<h3>Route parameters</h3>

{% if request.routeParams|length %}
    {{ include('@WebProfiler/Profiler/table.html.twig', { data: request.routeParams, labels: ['Name', 'Value'] }, with_context = false) }}
{% else %}
    <div class="empty">
        <p>No parameters.</p>
    </div>
{% endif %}

{% if router.redirect %}
    <h3>Route redirection</h3>
    <p>
        <strong>This page redirects to:</strong> "{{ router.targetUrl }}"
        {% if router.targetRoute %}<span class="muted">(route: "{{ router.targetRoute }}")</span>{% endif %}
    </p>
{% endif %}

<h3>Route matching logs</h3>

<table class="auto-layout">
    <thead><tr><th>Path to match</th></tr></thead>
    <tbody><tr><td>{{ request.pathinfo }}</td></tr></tbody>
</table>

<table id="router-logs" class="auto-layout">
    <thead>
        <tr>
            <th>#</th>
            <th>Route name</th>
            <th>Path</th>
            <th>Log</th>
        </tr>
    </thead>
    <tbody>
    {% for trace in traces %}
        <tr class="{{ 1 == trace.level ? 'status-warning' : 2 == trace.level ? 'status-success' : '' }}">
            <td class="font-normal muted">{{ loop.index }}</td>
            <td>{{ trace.name }}</td>
            <td>{{ trace.path }}</td>
            <td class="font-normal">{{ trace.level in [1, 2] ? trace.log : 'Path does not match' }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>

<p class="help">
    Note: These matching logs are based on the current router configuration,
    which might differ from the configuration used when profiling this request.
</p>
