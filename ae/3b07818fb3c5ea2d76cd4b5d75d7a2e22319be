---------------------------------------------------------------------------

by nicolas-grekas at 2022-01-18T16:00:17Z

Updated, thanks for the review.

---------------------------------------------------------------------------

by GromNaN at 2022-01-18T16:07:55Z

A test could be added to `RouteTest` and `RouteCompilerTest` to cover this feature.

---------------------------------------------------------------------------

by nicolas-grekas at 2022-01-18T16:12:25Z

This is already covered by the current test to me.

---------------------------------------------------------------------------

by stof at 2022-01-18T16:35:13Z

The change in `extractInlineDefaultsAndRequirements` is not covered by tests, as you don't use an UTF-8 name on a parameter using inline config (try reverting that part of the diff and see that tests won't fail).
and changes in places computing `$hasTrailingVar` might need a test using a route using a trailing optional parameter using an UTF-8 name to be covered in a way preventing regression.

---------------------------------------------------------------------------

by nicolas-grekas at 2022-01-18T17:13:15Z

Tests added @stof
