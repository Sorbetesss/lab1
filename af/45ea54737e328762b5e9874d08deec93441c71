---------------------------------------------------------------------------

by carsonbot at 2022-06-15T07:00:29Z

Hey!

I see that this is your first PR. That is great! Welcome!

Symfony has a [contribution guide](https://symfony.com/doc/current/contributing/index.html) which I suggest you to read.

In short:
- Always add tests
- Keep backward compatibility (see https://symfony.com/bc).
- Bug fixes must be submitted against the lowest maintained branch where they apply (see https://symfony.com/releases)
- Features and deprecations must be submitted against the 6.2 branch.

Review the GitHub status checks of your pull request and try to solve the reported issues. If some tests are failing, try to see if they are failing because of this change.

When two Symfony core team members approve this change, it will be merged and you will become an official Symfony contributor!
If this PR is merged in a lower version branch, it will be merged up to all maintained branches within a few days.

I am going to sit back now and wait for the reviews.

Cheers!

Carsonbot

---------------------------------------------------------------------------

by carsonbot at 2022-06-15T07:00:32Z

It looks like you unchecked the "Allow edits from maintainer" box. That is fine, but please note that if you have multiple commits, you'll need to squash your commits into one before this can be merged. Or, you can check the "Allow edits from maintainers" box and the maintainer can squash for you.

Cheers!

Carsonbot

---------------------------------------------------------------------------

by dunglas at 2022-06-15T22:03:09Z

I would indeed return `null` instead of an incomplete type.

---------------------------------------------------------------------------

by Sajito at 2022-06-16T08:36:33Z

Returning `null` now instead of a type without collectionKeyType.

---------------------------------------------------------------------------

by norkunas at 2022-06-16T09:20:30Z

I also use just `json` field to declare array of enums, could we support that?

---------------------------------------------------------------------------

by Sajito at 2022-06-16T09:31:00Z

Actually that's the reason for this PR. There is no way the DoctrineExtractor can guess the correct type from doctrine `json` field metadata. But that's not a problem, since `getPhpType` does not handle `json` fields, therefore will already return `null` for those cases. So another extractor will handle those cases.
