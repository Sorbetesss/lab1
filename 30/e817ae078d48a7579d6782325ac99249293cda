---------------------------------------------------------------------------

by javiereguiluz at 2017-04-27T15:39:38Z

*(about the icon, we'll ask to tweak it to the designer who created the rest of the profiler icons)*

---------------------------------------------------------------------------

by ogizanagi at 2017-04-27T15:41:36Z

@stof: I forgot to mention this is a POC/WIP (even if I think I'm almost done for the panel itself).
So I'll add tests if this PR makes enough sense to be merged. :)

---------------------------------------------------------------------------

by fabpot at 2017-04-29T16:06:23Z

Looks great to me :)

---------------------------------------------------------------------------

by ogizanagi at 2017-04-30T15:10:57Z

PR updated:

- implemented `LateDataCollectorInterface` as a straightforward solution to collect only once, on kernel terminate (and thus avoid the need to identify duplicates when running sub-requests).
- drastically simplified the data collector itself, thanks to https://github.com/symfony/symfony/pull/21638, which I almost forgot!
- added some tests.

---------------------------------------------------------------------------

by robfrawley at 2017-04-30T16:21:09Z

@ogizanagi This looks wonderful!

---------------------------------------------------------------------------

by fabpot at 2017-06-09T00:44:33Z

@javiereguiluz I think it would be good to work on the icons.

---------------------------------------------------------------------------

by robfrawley at 2017-06-09T01:26:33Z

I might be able to throw an SVG icon together, but what kind of icon would be appropriate? The check mark used in the example seems too generic.

---------------------------------------------------------------------------

by ogizanagi at 2017-06-19T11:12:05Z

@javiereguiluz : Any update about the new SVG icon? :)

---------------------------------------------------------------------------

by javiereguiluz at 2017-06-19T11:24:25Z

@ogizanagi thanks for reminding me about this. I've just asked for this to our designer. I'll share here his proposal. Thanks!

---------------------------------------------------------------------------

by javiereguiluz at 2017-06-19T14:18:32Z

This is the icon created by our designer:

```
<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="#aaaaaa" d="M20,23H3.79A2.88,2.88,0,0,1,.92,20.13V3.87A2.88,2.88,0,0,1,3.79,1H20a1,1,0,0,1,0,2H3.79a.88.88,0,0,0-.87.87V20.13a.88.88,0,0,0,.87.87H20a.88.88,0,0,0,.87-.87V11.79a1,1,0,1,1,2,0v8.33A2.88,2.88,0,0,1,20,23Zm-6.56-3.92L23.31,6.77a2,2,0,0,0-3.12-2.5L12.06,14.45,8.25,8.76A2,2,0,0,0,4.93,11l5.32,8a2,2,0,0,0,1.58.89h.08A2,2,0,0,0,13.48,19.08Z"/></svg>
```

And this is how it looks:

![validator-icon](https://user-images.githubusercontent.com/73419/27289601-c7eb243a-550a-11e7-9580-7c9766dbf5df.png)

---------------------------------------------------------------------------

by fabpot at 2017-06-19T14:19:46Z

The new icon "looks" bigger than the existing one (perhaps you can also add a screenshot when it is not selected?).

---------------------------------------------------------------------------

by javiereguiluz at 2017-06-19T14:23:21Z

Here is unhighlighted:

![validator-icon-unselected](https://user-images.githubusercontent.com/73419/27289799-88216dcc-550b-11e7-96d3-9e1fd9630538.png)

---------------------------------------------------------------------------

by fabpot at 2017-06-19T14:25:18Z

I would make it a bit smaller if possible.

---------------------------------------------------------------------------

by javiereguiluz at 2017-06-19T15:07:35Z

Here is the new version:

```xml
<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="#aaaaaa" d="M19.54,22.5H4.29a2.88,2.88,0,0,1-2.87-2.87V4.37A2.88,2.88,0,0,1,4.29,1.5H18.54a1,1,0,0,1,0,2H4.29a.88.88,0,0,0-.87.87V19.63a.88.88,0,0,0,.87.87H19.54a.88.88,0,0,0,.87-.87V11.29a1,1,0,1,1,2,0v8.33A2.88,2.88,0,0,1,19.54,22.5ZM13,17.29,22.88,6a1.5,1.5,0,1,0-2.26-2L12,14,8,9.11A1.5,1.5,0,0,0,5.65,11l5.1,6.25a1.5,1.5,0,0,0,1.14.55h0A1.5,1.5,0,0,0,13,17.29Z"/></svg>
```

And this is how it looks:

![icon-1](https://user-images.githubusercontent.com/73419/27291837-ba00a78a-5511-11e7-9197-dbee39a2a0c0.png)

![icon-2](https://user-images.githubusercontent.com/73419/27291838-bc50bc82-5511-11e7-9b14-a0f732278d20.png)

![icon-3](https://user-images.githubusercontent.com/73419/27291847-befca3c4-5511-11e7-86fc-e35dd28c4be9.png)

---------------------------------------------------------------------------

by fabpot at 2017-06-19T15:15:56Z

@ogizanagi I think you can update this PR with the new icon.

---------------------------------------------------------------------------

by ogizanagi at 2017-06-19T15:23:18Z

Updated with the new icon. Many thanks to you and your designer. ;)

---------------------------------------------------------------------------

by ogizanagi at 2017-06-19T17:11:16Z

(deps=high failure should be fixed once merged, in order for the FrameworkBundle to be able to see the validator component's collector)
