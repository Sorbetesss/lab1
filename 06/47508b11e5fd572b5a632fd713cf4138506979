---------------------------------------------------------------------------

by GromNaN at 2020-02-18T16:00:22Z

PR updated, tests fixed ([failure related to time-sensible test](https://travis-ci.org/symfony/symfony/jobs/652037402) on `MemcachedAdapterTest::testGetMetadata`)

---------------------------------------------------------------------------

by nicolas-grekas at 2020-02-21T18:12:55Z

Let's improve the HttpClient component then!

---------------------------------------------------------------------------

by GromNaN at 2020-02-26T10:12:03Z

Absolutely, it needs to be cached. And the cache needs to be served in case of error. IMO this is the responsability of the HttpClient to handle this behavior.
It's a good job that the [CachingHttpClient](https://github.com/symfony/symfony/blob/5.0/src/Symfony/Component/HttpClient/CachingHttpClient.php) already handles `stale-while-revalidate` and `stale-if-error`.

I'm trying to create a demo app to show the feature, but I don't find the correct config for `http_client`.

---------------------------------------------------------------------------

by nicolas-grekas at 2020-03-31T19:39:15Z

Anyone else @symfony/mergers?

---------------------------------------------------------------------------

by weaverryan at 2020-04-04T19:19:40Z

I like this. Practical question: how could/should someone add caching? Decorate the service? Something else? There just needs to be a reasonable way and it's ok if it's simply covered in the docs.

---------------------------------------------------------------------------

by nicolas-grekas at 2020-04-05T09:58:47Z

@weaverryan check https://github.com/symfony/symfony/pull/35762#pullrequestreview-364785825
